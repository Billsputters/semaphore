Semaphore Blueprint: Trains
===========================
James Shaw <js102@zepler.net>

A train moves around the map by following the path of track.  It is one or more tiles in length and moves a single tile at a time.

Train state
-----------
A train has three types of state: 'presence', movement state (referred to simply as 'state'), and 'speed'.

Presence
~~~~~~~~
Absent::	The train is not on the map.  It has either yet to appear or has already exited the map.  TODO: is this state actually needed, or is it just for completeness?
Entering::	The train is entering from a spawn entry point.  It is only partially visible.
Present::	The train is wholly visible and has left the spawn entry point.  All trains spend the majority of their time in this state.
Exiting::	The train is exiting to a spawn exit point.  The train is only partially visible, and once it has disappeared, it changes to the 'absent' state once more.

State
~~~~~
Stopped::	The train is stationary.  For example, it may be stopped at a station, at a buffer stop, or it may have performed an emergency stop.
Moving::	The train is in motion.
Derailed::	The train has moved onto a 'junction' following an 'inactive' track.  (See *tile-points* blueprint)
Crashed::	The train has collided with another train.  TODO: also crash with trackwork that isn't connected. 

Speed
~~~~~
A train has one of four speeds:

Stop::	The train is not moving.  The train 'state' must be 'stopped', 'derailed' or 'crashed'.
Slow, Fast and Full::	The train is moving, and its 'state' must be 'moving'.

Types
-----
There are three types of trains: intercity, commuter and freight.  All train types have the same behaviour, but have a different visual appearance and travel at different speeds.

// vim: set syntax=asciidoc:
